/**
 * ═══════════════════════════════════════════════════════════════════════════
 * THEMES.CSS
 * Définition des variables CSS pour tous les thèmes de l'application.
 * Chaque thème définit une palette complète de couleurs et d'effets.
 * ═══════════════════════════════════════════════════════════════════════════
 */

/* ═══════════════════════════════════════════════════════════════════════════
   TRANSITIONS FLUIDES POUR CHANGEMENTS DE THÈME
   Variable contrôlée par le script anti-FOUC (désactivée au chargement initial)
   ═══════════════════════════════════════════════════════════════════════════ */
:root {
    --transition-duration: 0.3s;
}

html,
body,
.library-view,
.reader-view,
.lib-sidebar,
.lib-main,
.book-card,
.btn,
input,
textarea,
select,
.modal-content,
.settings-modal-content,
.toc-sidebar,
.reader-controls {
    transition: 
        background-color var(--transition-duration) ease,
        color var(--transition-duration) ease,
        border-color var(--transition-duration) ease,
        box-shadow var(--transition-duration) ease;
}

/* ═══════════════════════════════════════════════════════════════════════════
   THÈME CLAIR (défaut)
   Palette moderne avec tons blancs et bleus
   ═══════════════════════════════════════════════════════════════════════════ */
:root {
    /* Fonds */
    --bg: #ffffff;
    --bg-secondary: #f8f9fa;
    --bg-tertiary: #e9ecef;
    --bg-hover: #f1f3f5;
    
    /* Textes */
    --text: #1a1a2e;
    --text-muted: #6c757d;
    --text-secondary: #495057;
    
    /* Accents */
    --accent: #007AFF;
    --accent-bright: #339af0;
    --accent-hover: #0056b3;
    --accent-text: #007AFF;
    --progress-color: #007AFF;
    
    /* Danger/Delete */
    --danger: #dc3545;
    --danger-bg: rgba(220, 53, 69, 0.1);
    --danger-bg-hover: rgba(220, 53, 69, 0.2);
    
    /* Effets */
    --border: rgba(0, 0, 0, 0.08);
    --border-light: rgba(0, 0, 0, 0.04);
    --glow: rgba(0, 122, 255, 0.25);
    --shadow-color: rgba(0, 0, 0, 0.08);
    --shadow-hover: rgba(0, 0, 0, 0.12);
    
    /* Glassmorphism */
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.5);
    --glass-blur: 20px;
    
    /* Cartes & Composants */
    --card-bg: rgba(255, 255, 255, 0.8);
    --card-border: rgba(0, 0, 0, 0.06);
    --overlay-bg: rgba(255, 255, 255, 0.95);
    --modal-overlay: rgba(15, 23, 42, 0.6);
    
    /* Composants spécifiques */
    --sidebar-bg: rgba(255, 255, 255, 0.9);
    --sidebar-border: rgba(0, 0, 0, 0.06);
    --panel-bg: rgba(255, 255, 255, 0.85);
    --input-bg: rgba(248, 249, 250, 0.9);
    --scrollbar-thumb: rgba(0, 0, 0, 0.15);
    --scrollbar-track: transparent;
    
    /* Barres flottantes (Lecteur) */
    --floating-bar-bg: rgba(255, 255, 255, 0.85);
    --floating-bar-text: #1a1a2e;
    --floating-bar-btn-bg: rgba(0, 0, 0, 0.04);
    --floating-bar-btn-hover: rgba(0, 0, 0, 0.08);
    --floating-bar-shadow: rgba(0, 0, 0, 0.1);
    
    /* TOC Sidebar */
    --toc-bg: rgba(255, 255, 255, 0.95);
    --toc-shadow: rgba(0, 0, 0, 0.1);
    --toc-overlay: rgba(15, 23, 42, 0.5);
    
    /* Status message */
    --status-bg: rgba(26, 26, 46, 0.9);
    --status-text: #ffffff;
    
    /* Icônes Sidebar - Thème clair */
    --icon-library: url('../icons/Icône bibliothèque.png');
    --icon-favorites: url('../icons/Favoris.png');
    --icon-stats: url('../icons/Statistiques.png');
    --icon-settings: url('../icons/Settings.png');
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, var(--accent), var(--accent-bright));
    --gradient-card: linear-gradient(145deg, var(--bg-secondary), var(--bg-tertiary));
}

/* ═══════════════════════════════════════════════════════════════════════════
   THÈME SOMBRE
   Palette GitHub Dark avec tons profonds
   ═══════════════════════════════════════════════════════════════════════════ */
body.dark-theme,
html.dark-theme {
    /* Fonds */
    --bg: #0d1117;
    --bg-secondary: #161b22;
    --bg-tertiary: #21262d;
    --bg-hover: #30363d;
    
    /* Textes */
    --text: #f0f6fc;
    --text-muted: #f0f6fc;
    --text-secondary: #f0f6fc;
    
    /* Accents */
    --accent: #272727;
    --accent-bright: #3a3a3a;
    --accent-hover: #1f1f1f;
    --accent-text: #f0f6fc;
    --progress-color: #f0f6fc;
    
    /* Danger/Delete */
    --danger: #f85149;
    --danger-bg: rgba(248, 81, 73, 0.15);
    --danger-bg-hover: rgba(248, 81, 73, 0.25);
    
    /* Effets */
    --border: rgba(240, 246, 252, 0.1);
    --border-light: rgba(240, 246, 252, 0.05);
    --glow: rgba(39, 39, 39, 0.4);
    --shadow-color: rgba(0, 0, 0, 0.4);
    --shadow-hover: rgba(0, 0, 0, 0.6);
    
    /* Glassmorphism */
    --glass-bg: rgba(22, 27, 34, 0.8);
    --glass-border: rgba(240, 246, 252, 0.1);
    --glass-blur: 20px;
    
    /* Cartes & Composants */
    --card-bg: rgba(33, 38, 45, 0.7);
    --card-border: rgba(240, 246, 252, 0.08);
    --overlay-bg: rgba(13, 17, 23, 0.95);
    --modal-overlay: rgba(0, 0, 0, 0.8);
    
    /* Composants spécifiques */
    --sidebar-bg: rgba(13, 17, 23, 0.95);
    --sidebar-border: rgba(240, 246, 252, 0.08);
    --panel-bg: rgba(22, 27, 34, 0.9);
    --input-bg: rgba(33, 38, 45, 0.8);
    --scrollbar-thumb: rgba(240, 246, 252, 0.2);
    --scrollbar-track: transparent;
    
    /* Barres flottantes (Lecteur) */
    --floating-bar-bg: rgba(22, 27, 34, 0.9);
    --floating-bar-text: #f0f6fc;
    --floating-bar-btn-bg: rgba(255, 255, 255, 0.08);
    --floating-bar-btn-hover: rgba(255, 255, 255, 0.15);
    --floating-bar-shadow: rgba(0, 0, 0, 0.4);
    
    /* TOC Sidebar */
    --toc-bg: rgba(13, 17, 23, 0.98);
    --toc-shadow: rgba(0, 0, 0, 0.5);
    --toc-overlay: rgba(0, 0, 0, 0.7);
    
    /* Status message */
    --status-bg: rgba(33, 38, 45, 0.95);
    --status-text: #f0f6fc;
    
    /* Icônes Sidebar - Thème sombre */
    --icon-library: url('../icons/Icônes bibliothèque Dark mode.png');
    --icon-favorites: url('../icons/Favoris Dark mode.png');
    --icon-stats: url('../icons/Statistiques dark mode.png');
    --icon-settings: url('../icons/Settings Dark mode.png');
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, var(--accent), var(--accent-bright));
    --gradient-card: linear-gradient(145deg, var(--bg-secondary), var(--bg-tertiary));
}

/* ═══════════════════════════════════════════════════════════════════════════
   THÈME SÉPIA
   Palette chaleureuse inspirée du papier vieilli
   ═══════════════════════════════════════════════════════════════════════════ */
body.sepia-theme,
html.sepia-theme {
    /* Fonds */
    --bg: #f5f0e1;
    --bg-secondary: #ece5d3;
    --bg-tertiary: #dfd7c5;
    --bg-hover: #d8cfbd;
    
    /* Textes */
    --text: #5c4b37;
    --text-muted: #8b7355;
    --text-secondary: #6d5a45;
    
    /* Accents */
    --accent: #b8860b;
    --accent-bright: #d4a017;
    --accent-hover: #9a7209;
    --accent-text: #b8860b;
    --progress-color: #b8860b;
    
    /* Danger/Delete */
    --danger: #c44536;
    --danger-bg: rgba(196, 69, 54, 0.12);
    --danger-bg-hover: rgba(196, 69, 54, 0.22);
    
    /* Effets */
    --border: rgba(92, 75, 55, 0.15);
    --border-light: rgba(92, 75, 55, 0.08);
    --glow: rgba(184, 134, 11, 0.3);
    --shadow-color: rgba(92, 75, 55, 0.12);
    --shadow-hover: rgba(92, 75, 55, 0.2);
    
    /* Glassmorphism */
    --glass-bg: rgba(245, 240, 225, 0.8);
    --glass-border: rgba(92, 75, 55, 0.15);
    --glass-blur: 20px;
    
    /* Cartes & Composants */
    --card-bg: rgba(245, 240, 225, 0.85);
    --card-border: rgba(92, 75, 55, 0.1);
    --overlay-bg: rgba(245, 240, 225, 0.95);
    --modal-overlay: rgba(60, 45, 30, 0.6);
    
    /* Composants spécifiques */
    --sidebar-bg: rgba(236, 229, 211, 0.95);
    --sidebar-border: rgba(92, 75, 55, 0.12);
    --panel-bg: rgba(245, 240, 225, 0.9);
    --input-bg: rgba(236, 229, 211, 0.8);
    --scrollbar-thumb: rgba(92, 75, 55, 0.25);
    --scrollbar-track: transparent;
    
    /* Barres flottantes (Lecteur) */
    --floating-bar-bg: rgba(245, 240, 225, 0.9);
    --floating-bar-text: #5c4b37;
    --floating-bar-btn-bg: rgba(92, 75, 55, 0.08);
    --floating-bar-btn-hover: rgba(92, 75, 55, 0.15);
    --floating-bar-shadow: rgba(92, 75, 55, 0.15);
    
    /* TOC Sidebar */
    --toc-bg: rgba(245, 240, 225, 0.98);
    --toc-shadow: rgba(92, 75, 55, 0.15);
    --toc-overlay: rgba(60, 45, 30, 0.5);
    
    /* Status message */
    --status-bg: rgba(92, 75, 55, 0.9);
    --status-text: #f5f0e1;
    
    /* Icônes Sidebar - Thème sépia (utilise les mêmes que light) */
    --icon-library: url('../icons/Icône bibliothèque.png');
    --icon-favorites: url('../icons/Favoris.png');
    --icon-stats: url('../icons/Statistiques.png');
    --icon-settings: url('../icons/Settings.png');
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, var(--accent), var(--accent-bright));
    --gradient-card: linear-gradient(145deg, var(--bg-secondary), var(--bg-tertiary));
}
